<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="Content-Security-Policy" content="default-src 'self'; script-src 'self' 'unsafe-inline' https://cdn.jsdelivr.net; style-src 'self' 'unsafe-inline' https://cdnjs.cloudflare.com; img-src 'self' data: https://i.imgur.com; connect-src 'self' https://brisxbmbsdomvfkxrwbf.supabase.co; font-src 'self' https://cdnjs.cloudflare.com;">
    <title>My Profile - DeepWiki.io</title>
    <link rel="stylesheet" href="/style.css">
    <script type="module" src="/src/profile.js"></script>
  </head>
  <body>
    <div class="menu-header">
      <img src="https://i.imgur.com/zcLQ3gB.png" alt="Menu Logo" class="menu-logo">
      <div class="nav-links">
        <div class="nav-container">
          <a href="/publish.html" class="nav-item publish-nav">
            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <path d="M12 5v14"/>
              <path d="M5 12h14"/>
            </svg>
            Publish
          </a>
          <a href="/index.html" class="nav-item archives-nav">
            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <path d="M4 4v16a2 2 0 002 2h12a2 2 0 002-2V8.342a2 2 0 00-.602-1.43l-4.44-4.342A2 2 0 0013.56 2H6a2 2 0 00-2 2z"/>
              <path d="M14 2v4a2 2 0 002 2h4"/>
            </svg>
            ARCHIVES
          </a>
          <a href="/collab.html" class="nav-item collab-nav">
            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <path d="M17 21v-2a4 4 0 00-4-4H5a4 4 0 00-4 4v2"/>
              <circle cx="9" cy="7" r="4"/>
              <path d="M23 21v-2a4 4 0 00-3-3.87"/>
              <path d="M16 3.13a4 4 0 010 7.75"/>
            </svg>
            COLLAB
          </a>
        </div>
      </div>
    </div>
    <div class="menu-overlay"></div>
    <div class="menu-options info-menu"></div>
    <div class="left-edge-trigger"></div>
    <div class="menu-hamburger-indicator">
      <span class="hamburger-line"></span>
      <span class="hamburger-line"></span>
      <span class="hamburger-line"></span>
    </div>
    
    <div class="profile-container">
      <div class="profile-header-title">
        <h1>My Profile</h1>
      </div>
      
      <div class="profile-header">
        <div class="profile-avatar" id="avatar-container">
          <img id="profile-image" src="https://i.imgur.com/zcLQ3gB.png" alt="Profile Picture">
          <div class="avatar-upload-overlay">
            <span>Click to<br>change photo</span>
          </div>
          <button class="edit-avatar-btn" id="edit-avatar-btn">
            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <path d="M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"/>
              <path d="M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"/>
            </svg>
          </button>
          <input type="file" id="avatar-upload" class="avatar-upload-input" accept="image/*">
          <div class="upload-progress" id="upload-progress" style="display: none;">Uploading...</div>
        </div>
        <div class="profile-info">
          <h2 id="profile-name">Loading...</h2>
          <p id="profile-email">Loading...</p>
          <div class="profile-meta">
            <span id="profile-dob" style="display: none;">
              <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <rect x="3" y="4" width="18" height="18" rx="2" ry="2"/>
                <line x1="16" y1="2" x2="16" y2="6"/>
                <line x1="8" y1="2" x2="8" y2="6"/>
                <line x1="3" y1="10" x2="21" y2="10"/>
              </svg>
              <span class="meta-text">Born: Not set</span>
            </span>
            <span id="profile-location">
              <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <path d="M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"/>
                <circle cx="12" cy="10" r="3"/>
              </svg>
              <span class="meta-text">Location not set</span>
            </span>
            <span id="profile-website">
              <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <circle cx="12" cy="12" r="10"/>
                <line x1="2" y1="12" x2="22" y2="12"/>
                <path d="M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z"/>
              </svg>
              <a href="#" class="meta-text">Add website</a>
            </span>
          </div>
        </div>
        <a href="/settings.html" class="edit-profile-btn">
          <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <path d="M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"/>
            <path d="M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"/>
          </svg>
          Edit Profile
        </a>
      </div>

      <div class="profile-sections">
        <div class="profile-section">
          <h3>About Me</h3>
          <p id="profile-bio" class="profile-bio">No bio yet</p>
        </div>

        <!-- Posts Tabs -->
        <div class="posts-tabs">
          <button class="tab-button active" data-tab="archive">
            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" style="margin-right: 8px;">
              <path d="M12 2L2 7l10 5 10-5-10-5zM2 17l10 5 10-5M2 12l10 5 10-5"/>
            </svg>
            My Archive Posts
          </button>
          <button class="tab-button" data-tab="collab">
            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" style="margin-right: 8px;">
              <path d="M17 21v-2a4 4 0 00-4-4H5a4 4 0 00-4 4v2"/>
              <circle cx="9" cy="7" r="4"/>
              <path d="M23 21v-2a4 4 0 00-3-3.87"/>
              <path d="M16 3.13a4 4 0 010 7.75"/>
            </svg>
            My Collab Posts
          </button>
        </div>

        <!-- Archive Posts Section -->
        <div class="posts-section active" id="archive-section">
          <div id="archive-posts" class="posts-list">
            <p class="empty-state">Loading archive posts...</p>
          </div>
        </div>

        <!-- Collab Posts Section -->
        <div class="posts-section" id="collab-section">
          <div id="collab-posts" class="posts-list">
            <p class="empty-state">Loading collab posts...</p>
          </div>
        </div>
      </div>
    </div>
  </body>
</html>